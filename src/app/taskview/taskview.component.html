<app-taskheader></app-taskheader>
<div class="container mt-3">
  <button class="btn btn-dark" (click)="back()">Create task</button>
  <table class="table table-bordered table-dark mt-3">
    <thead>
      <tr>
        <th scope="col">Task Id</th>
        <th scope="col">Task Name</th>
        <th scope="col">Description</th>
        <th scope="col">Project</th>
        <th scope="col">StaTus</th>
        <th scope="col">Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let p of tasks">
        <th scope="row">{{ p.id }}</th>
        <td>{{ p.name }}</td>
        <td>{{ p.des }}</td>
        <td>{{ p.project }}</td>
        <td>{{ p.status }}</td>
        <td>
          <button
            class="btn btn-light"
            data-toggle="modal"
            data-target="#exampleModal"
            (click)="getDetail(p.id)"
          >
            Edit
          </button>
          <button class="btn btn-light ml-3" (click)="delete(p.id)">
            Delete
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<div
  class="modal fade"
  id="exampleModal"
  tabindex="-1"
  role="dialog"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Edit Task</h5>
        <button
          type="button"
          class="close"
          data-dismiss="modal"
          aria-label="Close"
        >
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form action="">
          <div class="form-group">
            <small class="text-info">Tasks Name:</small>
            <input
              type="text"
              class="form-control"
              value="{{ detail.name }}"
              #name
            />
          </div>

          <div class="form-group">
            <small class="text-info">Description:</small>
            <textarea
              class="form-control"
              name=""
              id=""
              cols="5"
              rows="5"
              #des
              value="{{ detail.des }}"
            ></textarea>
          </div>

          <div class="form-row">
            <div class="col-md-6 mb-3">
              <small class="text-info">Project:</small>
              <select name="" id="" class="form-control" #project>
                <option value="{{ detail.project }}">
                  {{ detail.project }}
                </option>
                <option *ngFor="let p of projects" value="{{ p.name }}">
                  {{ p.name }}
                </option>
              </select>
            </div>
            <div class="col-md-6 mb-3">
              <small class="text-info">Status:</small>
              <select name="" id="" class="form-control" #status>
                <option value="{{ detail.status }}">{{ detail.status }}</option>
                <option value="Holding">Holding</option>
                <option value="None">None</option>
              </select>
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">
          Close
        </button>
        <button type="button" class="btn btn-primary" (click)="edit()">
          Save changes
        </button>
      </div>
    </div>
  </div>
</div>
